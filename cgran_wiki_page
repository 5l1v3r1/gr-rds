= RDS - Radio Data System =

__Contributors__:  [mailto:azimout@gmail.com Dimitrios Symeonidis]

__Project Root__: [browser:/projects/radio_data_system]

__GNU Radio Compatibility__: 
  * Release: v3.1.3,
  * Subversion: 10402

__Quick Links__:
  * [wiki:RDS#Credits Credits]
  * [wiki:RDS#TheRDSStandard The RDS Standard]
  * [wiki:RDS#InstallAndRun Install & Run]
  * [wiki:RDS#News News]
  * [wiki:RDS#ToDo To Do]
  * [https://www.cgran.org/newticket?component=RDS&owner=azimout@gmail.com Report a bug]

== Credits ==

The project was initiated by [mailto:rgaensli@gmx.ch Ronnie Gaensli]. It was later adopted by [mailto:ryanshoff@McBrideandShoff.com Ryan Shoff], and then by [mailto:matteo@matcam.net Matteo Campanella]. Matteo still hosts his code [http://digilander.libero.it/iz2eeq/#rds here].

== The RDS Standard ==

The RDS protocol was initially released by the EBU (European Broadcasting Union) in 1984, then as CENELEC (European Committee for Electrotechnical Standardization) standard EN 50067, initially released in 1990, then 1992, then 1998. In 1999 it became an international standard: [http://webstore.iec.ch/webstore/webstore.nsf/artnum/025877 IEC 62106] (International Electrotechnical Commission)

FM Radio is broadcast (in most countries) between 87.5 and 108MHz, with 200kHz for each channel. The lower 15kHz is the monophonic audio signal (Left+Right), then at 19kHz there's the "pilot tone" (just a carrier). Between 23 and 53kHz there's the stereophonic audio signal (Left-Right). Finally, between 55 and 59kHz there's the RDS signal (57=19x3).

The RDS signal is a BPSK-modulated, differentially-coded 1187.5 bits-per-second datastream. One "group" (frame) is 104 bits long, comprised of 4 "blocks" of 26 bits each. A block includes the "infoword" (16 bits) and the "checkword" (10 bits). There are 32 types of groups (0-15, A or B), and depending on the group type is the decoding of the infowords.

Reference: [http://www.rds.org.uk/rds98/rds_standards.htm]

[[Image(rds_flowgraph.png)]]

== Install And Run ==

These instructions have been verified to work on recent versions of Ubuntu Linux:
   * {{{svn co https://www.cgran.org/svn/projects/radio_data_system/trunk/ gr-rds}}}
   * {{{./configure}}}
   * {{{make}}}
   * {{{sudo make install}}}

Then run the python script {{{python src/python/usrp_rds_rx.py}}} to receive, or {{{python src/python/usrp_rds_tx.py --wavfile <wavfile.wav>}}} to transmit.

== News ==
||12.02.2009|| - transform_char was equivalent to ASCII, so it was removed[[BR]] - Minor fixes to AF calculations[[BR]] - rds_data_encoder now creates group0||
||07.02.2009|| - Added assignment of xml values to variables. Next step: CRC32||
||06.02.2009|| - Added rds_data_encoder, so far it only parses an XML file||
||05.02.2009|| - Replaced rds.diff_decoder with gr.diff_decoder_bb[[BR]] - Some more cleaning up||
||02.02.2009|| - Fixed the existing QA code (freq_divider, diff_decoder)[[BR]] - Added diff_encoder (with QA)[[BR]] - Renamed biphase_decoder to bpsk_demod||
||19.12.2008|| New features:[[BR]] - Added mono and stereo FM transmitter code (python)||
||17.10.2008|| New features:[[BR]] - Added display of CT, AF to panel[[BR]] Miscellaneous:[[BR]] - Minor bug fixes[[BR]] - Cleaned up diff decoder[[BR]] ||
||16.10.2008||New features:[[BR]] - Alternate Frequency (AF) decoding[[BR]] - Completed the Radiotext implementation[[BR]] - Clocktime (CT) decoding[[BR]] - Enhanced Other Networks (EON) decoding[[BR]] Draft features:[[BR]] - Slow labelling codes (type 1) decoding[[BR]] - Traffic Message Control (TMC) decoding[[BR]] Miscellaneous:[[BR]] - Added lots of comments, matching existing features with their descriptions in the standard(s).[[BR]] - Several code changes all over the place, to make the code more manageable.[[BR]] ||
||26.07.2008||This code was adobted from Matteo Campanella. It is still available at http://digilander.libero.it/iz2eeq/ [[BR]] - It was updated to compile with the latest versions of GNU Radio.[[BR]] - Small corrections were made to fix warning messages during compilation.[[BR]] - All mc4020-related code was removed. ||

== To Do ==
   * Complete TMC implementation
   * Add scanning for stations
   * Fix too common "lost sync"
